{% extends 'dashboard/base.html' %}

{% block content %}
    <section class="student-info">
        <h2>Exam Record</h2>
        <div class="student-info-fields">
            <p class="column"><strong>Name:</strong> <span>{{ request.user.first_name }} {{ request.user.last_name }}</span></p>
            <p class="column"><strong>TGP:</strong> <span>{{ request.user.student.tgp }}</span></p>
            <p class="column"><strong>GP:</strong> <span>{% if request.user.student.gpa_second_semester %}{{ request.user.student.gpa_second_semester }}{% else %}{{ request.user.student.gpa_first_semester }}{% endif %}</span></p>
            <p class="column"><strong>CGPA:</strong> <span>{% if request.user.student.gpa_second_semester %}{{ request.user.student.cgpa }}{% endif %}</span></p>
            <p class="column"><strong>Remark:</strong> <span>{{ request.user.student.result_remark }}</span></p>
            <table>
                <thead>
                    <th>Course</th>
                    <th>Unit</th>
                    <th>Score</th>
                </thead>
                <tbody>
                    {% for score in course_scores %}
                        <tr>
                            <td>{{ score.course.name }}</td>
                            <td>{{ score.course.unit }}</td>
                            <td>{{ score.score }}</td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="2">No course scores available.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <!-- <p class="column"><strong>Department:</strong> <span>{{ request.user.student.department }}</span></p> -->
        </div>
    </section>
{% endblock %}
{% block button %}
    <a href="{% url 'download_pdf' %}" class="btn">Download Result</a>
{% endblock %}